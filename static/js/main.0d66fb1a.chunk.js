(this.webpackJsonphowdy=this.webpackJsonphowdy||[]).push([[0],{28:function(e,t,a){e.exports=a(53)},33:function(e,t,a){},34:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),o=a.n(l),c=(a(33),a(8)),s=a(9),i=a(11),m=a(10),u=a(24),d=(a(34),a(3)),h=a(4),p=a(19),f=a.n(p);f.a.initializeApp({apiKey:"AIzaSyDZMNNy0ANqUEH1dvcPv45CT5Z_ByU3dE0",authDomain:"howdy-66dad.firebaseapp.com",databaseURL:"https://howdy-66dad.firebaseio.com"});var v=f.a.auth,E=f.a.database();var b=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm fixed-top navbar-dark bg-dark"},r.a.createElement(h.b,{className:"navbar-brand hover-animation",to:"/"},"Howdy"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup"},v().currentUser?r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(h.b,{className:"nav-item nav-link mr-3 hover-animation",to:"/chat"},"Chat"),r.a.createElement(h.b,{className:"nav-item nav-link mr-3 hover-animation",to:"/profile"},"Profile"),r.a.createElement("button",{className:"btn btn-primary mr-3 hover-animation",onClick:function(){return v().signOut()}},"Logout")):r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(h.b,{className:"nav-item nav-link mr-3 hover-animation",to:"/login"},"Sign In"),r.a.createElement(h.b,{className:"nav-item nav-link mr-3 hover-animation",to:"/signup",style:{color:"#007bff"}},"Sign Up")))))};var g=function(){return r.a.createElement("footer",{className:"pt-5"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("p",null,"\xa9 Howdy 2020.")))},y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(b,null),r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron jumbotron-fluid py-5"},r.a.createElement("div",{className:"container text-center py-5"},r.a.createElement("h1",{className:"display-4"},"Welcome to Howdy"),r.a.createElement("p",{className:"lead"},"A great place to share your thoughts with friends"),r.a.createElement("div",{className:"mt-4"},r.a.createElement(h.b,{className:"btn btn-primary px-5 mr-3 hover-animation",to:"/signup"},"Create New Account"),r.a.createElement(h.b,{className:"btn px-5 hover-animation",to:"/login"},"Login to Your Account"))))),r.a.createElement(g,null))}}]),a}(n.Component),N=["web devs","andriod devs","designers"],w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:v().currentUser,chats:[],content:"",readError:null,writeError:null,dbRef:"react",rooms:N},e.openNav=function(){document.getElementById("my-room-area").style.display="block",document.getElementById("my-room-area").style.width="70%",document.getElementById("my-chat-area").style.width="30%",document.getElementById("my-close-btn").style.display="block"},e.closeNav=function(){document.getElementById("my-room-area").style.display="none",document.getElementById("my-close-btn").style.display="none"},e.loadChat=function(){var t=e.state.dbRef;e.setState({readError:null});try{E.ref(t).on("value",(function(t){var a=[];t.forEach((function(e){a.push(e.val())})),e.setState({chats:a})}))}catch(a){e.setState({readError:a.message})}},e.handleChange=function(t){e.setState({content:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state.user),e.setState({writeError:null});var a=e.state.dbRef;try{E.ref(a).push({content:e.state.content,timestamp:Date.now(),sender:e.state.user.displayName,uid:e.state.user.uid}),e.setState({content:""})}catch(n){e.setState({writeError:n.message})}},e.handleClick=function(t){e.setState({dbRef:t}),setTimeout((function(){e.loadChat()}),100),window.screen.width<=500&&(document.getElementById("my-room-area").style.display="none",document.getElementById("my-close-btn").style.display="none")},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadChat()}},{key:"formatTime",value:function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes())}},{key:"render",value:function(){var e=this;return(r.a.createElement("div",{className:"chat-container"},r.a.createElement(b,null),r.a.createElement("a",{id:"my-close-btn",href:"javascript: void(o)",class:"close-btn",onClick:this.closeNav}),r.a.createElement("div",{className:"chat-box"},r.a.createElement("div",{id:"my-room-area",className:"room-area",style:{position:"relative"}},r.a.createElement("h2",{style:{marginTop:"20px",borderBottom:"2px solid #575757",color:"aqua"}},"Chat Rooms"),this.state.rooms.map((function(t,a){return r.a.createElement("div",{key:a,className:e.state.rooms[a]===e.state.dbRef?"room-list-active":"room-list",onClick:function(){return e.handleClick(e.state.rooms[a])}},r.a.createElement("h3",null,e.state.rooms[a]))})),r.a.createElement("h3",{className:"signed-in"},"Signed in as: ",r.a.createElement(h.b,{to:"/profile",style:{color:"#fff"}},this.state.user.displayName))),r.a.createElement("div",{id:"my-chat-area"},r.a.createElement("div",{className:"chat-area"},this.state.chats.map((function(t){return r.a.createElement("div",null,r.a.createElement("p",{key:t.timestamp,className:"chat-bubble "+(e.state.user.uid===t.uid?"current-user":"")},r.a.createElement("span",{className:"chat-time float-left",style:{color:"#fff",fontSize:"14px"}},t.sender),r.a.createElement("br",null),t.content,r.a.createElement("br",null),r.a.createElement("span",{className:"chat-time float-right"},e.formatTime(t.timestamp))))}))),null===this.state.user.displayName?r.a.createElement("p",{className:"text-danger"},"Update your profile userName to chat"):r.a.createElement("form",{id:"my-type-area",onSubmit:this.handleSubmit,className:"type-area"},r.a.createElement("button",{onClick:this.openNav,className:"open-room-area"}),r.a.createElement("input",{className:"form-control",name:"content",placeholder:"Type a message",onChange:this.handleChange,value:this.state.content}),this.state.error?r.a.createElement("p",{className:"text-danger"},this.state.error):null,r.a.createElement("button",{type:"submit",className:"send-button"}))))))}}]),a}(r.a.Component),S=a(18);function C(e,t){return v().createUserWithEmailAndPassword(e,t)}function k(e,t){return v().signInWithEmailAndPassword(e,t)}function j(){var e=new v.GoogleAuthProvider;return v().signInWithPopup(e)}var O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",error:null,username:""},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({error:""});try{C(e.state.email,e.state.password)}catch(a){e.setState({error:a.message})}},e.googleSignIn=function(){try{j()}catch(t){e.setState({error:t.message})}},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(b,null),r.a.createElement("form",{className:"mt-5 py-5 px-5 howdy-signin",onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Sign Up to",r.a.createElement(h.b,{className:"title ml-2 hover-animation",to:"/"},"Howdy")),r.a.createElement("p",{className:"lead"},"Fill in the form below to create an account."),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,type:"password"})),r.a.createElement("div",{className:"form-group"},this.state.error?r.a.createElement("p",{className:"text-danger"},this.state.error):null,r.a.createElement("button",{className:"btn btn-primary px-5",type:"submit"},"Sign up")),r.a.createElement("p",null,"You can also sign up with "),r.a.createElement("button",{className:"btn btn-danger mr-2",type:"button",onClick:this.googleSignIn},"Sign up with Google"),r.a.createElement("hr",null),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(h.b,{to:"/login"},"Login"))))}}]),a}(r.a.Component),x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",error:null},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({error:""});try{k(e.state.email,e.state.password)}catch(a){e.setState({error:a.message})}},e.googleSignIn=function(){try{j()}catch(t){e.setState({error:t.message})}},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(b,null),r.a.createElement("form",{className:"mt-5 py-5 px-5 howdy-signin",autoComplete:"off",onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Login to",r.a.createElement(h.b,{className:"title ml-2 hover-animation",to:"/"},"Howdy")),r.a.createElement("p",{className:"lead"},"Fill in the form below to login to your account."),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,type:"password"})),r.a.createElement("div",{className:"form-group"},this.state.error?r.a.createElement("p",{className:"text-danger"},this.state.error):null,r.a.createElement("button",{className:"btn btn-primary px-5 hover-animation",type:"submit"},"Login")),r.a.createElement("p",null,"You can also log in with "),r.a.createElement("button",{className:"btn btn-danger mr-2 hover-animation",type:"button",onClick:this.googleSignIn},"Sign in with Google"),r.a.createElement("hr",null),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(h.b,{className:"hover-animation",to:"/signup"},"Sign up"))))}}]),a}(r.a.Component),U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={user:v().currentUser,username:"null",profileUpdate:!1},e.update=function(){e.setState({profileUpdate:!0})},e.displayProfile=function(){var t=e.state.user;return(r.a.createElement("div",{className:"mt-5 py-5 px-5 howdy-signin user-profile"},r.a.createElement(h.b,{className:"back-button",to:"/chat"},"chat"),r.a.createElement("h1",null,"User Profile"),r.a.createElement("p",{className:"lead"},"Username: ",null===t.displayName?"No username has been set":t.displayName),r.a.createElement("p",{className:"lead"},"Email: ",t.email),r.a.createElement("button",{onClick:e.update,className:"btn btn-primary mr-3 hover-animation"},"Edit Profile")))},e.updateForm=function(){return r.a.createElement("form",{className:"mt-5 py-5 px-5 howdy-signin user-profile",autoComplete:"off",onSubmit:e.updateUserProfile},r.a.createElement("h1",null,"Update Profile"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lead"}," Username: ",r.a.createElement("input",{className:"form-control",type:"text",name:"username",placeholder:"Enter Username",value:e.state.username,onChange:e.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"lead"},"Email: ",e.state.user.email)),r.a.createElement("button",{className:"btn btn-primary mr-3 hover-animation",type:"submit"},"Update Profile"))},e.updateUserProfile=function(t){t.preventDefault();var a=e.state,n=a.user,r=a.username;n.updateProfile({displayName:r}).then((function(){})).catch((function(){})),e.setState({profileUpdate:!1})},e.handleChange=function(t){e.setState({username:t.target.value})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({username:this.state.user.displayName})}},{key:"render",value:function(){this.state.user;return(r.a.createElement("div",null,r.a.createElement(b,null),!0===this.state.profileUpdate?this.updateForm():this.displayProfile()))}}]),a}(r.a.Component);function A(e){var t=e.component,a=e.authenticated,n=Object(u.a)(e,["component","authenticated"]);return(r.a.createElement(d.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}})))}function I(e){var t=e.component,a=e.authenticated,n=Object(u.a)(e,["component","authenticated"]);return(r.a.createElement(d.b,Object.assign({},n,{render:function(e){return!1===a?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/chat"})}})))}var P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={authenticated:!1,loading:!0},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v().onAuthStateChanged((function(t){t?e.setState({authenticated:!0,loading:!1}):e.setState({authenticated:!1,loading:!1})}))}},{key:"render",value:function(){return!0===this.state.loading?r.a.createElement("h2",null,"Loading..."):r.a.createElement(h.a,{basename:"/howdy"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:y}),r.a.createElement(A,{path:"/profile",authenticated:this.state.authenticated,component:U}),r.a.createElement(A,{path:"/chat",authenticated:this.state.authenticated,component:w}),r.a.createElement(I,{path:"/signup",authenticated:this.state.authenticated,component:O}),r.a.createElement(I,{path:"/login",authenticated:this.state.authenticated,component:x})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.0d66fb1a.chunk.js.map